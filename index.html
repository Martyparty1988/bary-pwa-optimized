<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Villa POS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.min.css">
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="icon-192x192.png">
    <style>
        /* Styly pro ruční zadávání množství */
        .qty-input {
            width: 40px;
            text-align: center;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 5px;
            padding: 5px;
            font-size: 16px;
            font-weight: 500;
            -moz-appearance: textfield; /* Odstraní šipky v Firefoxu */
        }
        
        .qty-input::-webkit-outer-spin-button,
        .qty-input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Villa Selection Screen -->
        <div id="villaScreen" class="screen active">
            <div class="header">Select Villa</div>
            <div class="villa-card" data-villa="little-castle">
                <i class="fas fa-chess-rook"></i>
                <div>The Little Castle</div>
            </div>
            <div class="villa-card" data-villa="amazing-villa">
                <i class="fas fa-home"></i>
                <div>Amazing Villa</div>
            </div>
            <div class="villa-card" data-villa="oh-yeah-villa">
                <i class="fas fa-umbrella-beach"></i>
                <div>Oh Yeah Villa</div>
            </div>
        </div>

        <!-- Order Screen -->
        <div id="orderScreen" class="screen">
            <div class="back-button" id="backToVilla">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="header">New Order</div>
            
            <div class="tab-bar">
                <div class="tab active" data-category="drinks">Drinks</div>
                <div class="tab" data-category="services">Services</div>
            </div>
            
            <div class="search-bar">
                <input type="text" id="searchItems" placeholder="Search items...">
                <i class="fas fa-search"></i>
            </div>

            <div id="drinksCategory" class="category-content">
                <div class="item-row" data-item="jagermeister">
                    <div class="item-info">
                        <div class="item-name">Jägermeister shot</div>
                        <div class="item-price">59 CZK / 2.40 EUR</div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>

                <div class="item-row" data-item="soda">
                    <div class="item-info">
                        <div class="item-name">Coca-Cola, Sprite, Fanta</div>
                        <div class="item-price">32 CZK / 1.3 EUR</div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>

                <div class="item-row" data-item="vitamin-water">
                    <div class="item-info">
                        <div class="item-name">Vitamin Water</div>
                        <div class="item-price">35 CZK / 1.4 EUR</div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>

                <div class="item-row" data-item="redbull">
                    <div class="item-info">
                        <div class="item-name">Red Bull</div>
                        <div class="item-price">60 CZK / 2.4 EUR</div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>

                <div class="item-row" data-item="jack-cola">
                    <div class="item-info">
                        <div class="item-name">Jack & Cola</div>
                        <div class="item-price">125 CZK / 5 EUR</div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>

                <div class="item-row" data-item="gin-tonic">
                    <div class="item-info">
                        <div class="item-name">Gin & Tonic</div>
                        <div class="item-price">75 CZK / 3 EUR</div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>

                <div class="item-row" data-item="moscow-mule">
                    <div class="item-info">
                        <div class="item-name">Moscow Mule</div>
                        <div class="item-price">100 CZK / 4 EUR</div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>

                <div class="item-row" data-item="mojito">
                    <div class="item-info">
                        <div class="item-name">Mojito</div>
                        <div class="item-price">100 CZK / 4 EUR</div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>

                <div class="item-row" data-item="pina-colada">
                    <div class="item-info">
                        <div class="item-name">Piña Colada</div>
                        <div class="item-price">100 CZK / 4 EUR</div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>

                <div class="item-row" data-item="beer">
                    <div class="item-info">
                        <div class="item-name">Beer</div>
                        <div class="item-price">60 CZK / 2.4 EUR</div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>

                <div class="item-row" data-item="prosecco">
                    <div class="item-info">
                        <div class="item-name">Prosecco</div>
                        <div class="item-price">475 CZK / 19 EUR</div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>
            </div>

            <div id="servicesCategory" class="category-content" style="display: none;">
                <div class="item-row" data-item="grill-gas">
                    <div class="item-info">
                        <div class="item-name">Gas for grill</div>
                        <div class="item-price">20 EUR</div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>

                <div class="item-row" data-item="fire-table-gas">
                    <div class="item-info">
                        <div class="item-name">Gas for fire table</div>
                        <div class="item-price">12 EUR</div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>

                <div class="item-row" data-item="city-tax">
                    <div class="item-info">
                        <div class="item-name">City Tax</div>
                        <div class="item-price">2 EUR / person / day</div>
                        <div class="custom-input">
                            <input type="number" id="cityTaxPeople" min="1" value="1"> people for 
                            <input type="number" id="cityTaxDays" min="1" value="1"> days
                        </div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>

                <div class="item-row" data-item="wellness-fee">
                    <div class="item-info">
                        <div class="item-name">Wellness fee</div>
                        <div class="item-price">Custom amount</div>
                        <div class="custom-input">
                            <input type="number" id="wellnessFeeAmount" min="0" placeholder="Enter amount in EUR">
                        </div>
                    </div>
                    <div class="item-quantity">
                        <button class="decrease-qty">-</button>
                        <input type="number" class="qty-input" value="0" min="0">
                        <button class="increase-qty">+</button>
                    </div>
                </div>
            </div>

            <div class="order-summary">
                <div class="order-summary-left">
                    <div class="order-summary-label">Total Items</div>
                    <div id="totalItems">0</div>
                </div>
                <div class="order-summary-right">
                    <div class="order-summary-label">Total Amount</div>
                    <div id="totalAmount">0.00 EUR</div>
                </div>
            </div>

            <div class="action-buttons">
                <button id="proceedToPayment" class="btn">Proceed to Payment</button>
                <button id="clearOrder" class="btn secondary">Clear Order</button>
            </div>
        </div>

        <!-- Payment Screen -->
        <div id="paymentScreen" class="screen">
            <div class="back-button" id="backToOrder">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="header">Payment Method</div>
            
            <div class="order-summary">
                <div class="order-summary-left">
                    <div class="order-summary-label">Total Items</div>
                    <div id="paymentTotalItems">0</div>
                </div>
                <div class="order-summary-right">
                    <div class="order-summary-label">Total Amount</div>
                    <div id="paymentTotalAmount">0.00 EUR</div>
                </div>
            </div>
            
            <div class="payment-option" data-payment="cash">
                <i class="fas fa-money-bill-wave"></i>
                <div class="payment-option-info">
                    <div>Cash</div>
                    <div class="item-price">Pay with cash</div>
                </div>
            </div>
            
            <div class="payment-option" data-payment="card">
                <i class="fas fa-credit-card"></i>
                <div class="payment-option-info">
                    <div>Card</div>
                    <div class="item-price">Pay with credit/debit card</div>
                </div>
            </div>
            
            <div class="payment-option" data-payment="unpaid">
                <i class="fas fa-clock"></i>
                <div class="payment-option-info">
                    <div>Unpaid</div>
                    <div class="item-price">Mark as unpaid (pay later)</div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button id="completeOrder" class="btn success">Complete Order</button>
                <button id="cancelPayment" class="btn secondary">Cancel</button>
            </div>
        </div>

        <!-- Receipt Screen -->
        <div id="receiptScreen" class="screen">
            <div class="header">Order Completed</div>
            
            <div class="receipt" id="receiptContent">
                <div class="receipt-header">
                    <div class="receipt-title">RECEIPT</div>
                    <div class="receipt-villa" id="receiptVilla">Villa Name</div>
                    <div class="receipt-date" id="receiptDate">Date and Time</div>
                </div>
                
                <div class="receipt-items" id="receiptItems">
                    <!-- Receipt items will be inserted here dynamically -->
                </div>
                
                <div class="receipt-total">
                    <div>Total</div>
                    <div id="receiptTotal">0.00 EUR</div>
                </div>
                
                <div class="receipt-payment" id="receiptPayment">
                    Paid with Cash
                </div>
            </div>
            
            <div class="action-buttons">
                <button id="shareReceipt" class="btn">
                    <i class="fas fa-share-alt"></i> Share Receipt
                </button>
                <button id="saveReceipt" class="btn secondary">
                    <i class="fas fa-download"></i> Save as PDF
                </button>
                <button id="newOrder" class="btn success">
                    <i class="fas fa-plus"></i> New Order
                </button>
            </div>
        </div>

        <!-- History Screen -->
        <div id="historyScreen" class="screen">
            <div class="header">Order History</div>
            
            <div id="orderHistory">
                <!-- Order history will be populated dynamically -->
                <div class="empty-state">
                    <i class="fas fa-history"></i>
                    <div>No orders yet</div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button id="clearHistory" class="btn danger">Clear History</button>
                <button id="backToMain" class="btn secondary">Back to Main</button>
            </div>
        </div>
    </div>

    <!-- Loading indicator -->
    <div class="loading" style="display: none;">
        <div class="loading-spinner"></div>
        <div>Processing...</div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="app.min.js"></script>
    
    <!-- Offline indicator -->
    <div class="offline-indicator">
        <svg viewBox="0 0 24 24" width="16" height="16">
            <path fill="currentColor" d="M2.28,3L1,4.27L2.47,5.74C2.04,6 1.61,6.29 1.2,6.6L3,9C3.53,8.6 4.08,8.25 4.66,7.94L6.89,10.17L5.89,11.17L8.07,13.35L9.07,12.35L11.06,14.34L12.83,12.58L13.83,13.58L10.93,16.47L12.35,17.89L21.73,8.5L20.46,7.24L21.27,8.05L21.27,8.05L18,4.78L3,19.78L4.5,21.28L16,9.78L16,9.72L15.3,9L16.03,8.3L16.94,9.21L18.37,7.78L15.36,4.77C14.8,4.28 14.21,3.85 13.6,3.44L15.13,5L14.13,6L12.06,3.93L13.06,2.93L12.47,2.34C11.56,1.96 10.6,1.64 9.62,1.38L10.91,2.67L7.69,5.89L5.11,3.31C4.19,3.17 3.25,3.08 2.28,3M21,6.5L17.5,10L21,13.5V6.5M9.78,8.75L16.06,15.03L18.1,13L13.06,7.97L9.78,11.25L8.75,10.22L9.78,9.19L8.75,8.75L9.78,8.75M5,16.5V21.36C5.47,21.43 5.97,21.46 6.46,21.46C7.11,21.46 7.77,21.4 8.44,21.29L5,17.85V16.5M12,2C10.97,2 9.96,2.11 9,2.29V3.5L12,6.5L15,3.5V2.29C14.04,2.11 13.03,2 12,2Z" />
        </svg>
        <span>Offline režim</span>
    </div>
</body>
</html>